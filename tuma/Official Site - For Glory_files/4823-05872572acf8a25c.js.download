"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4823],{34823:(e,t,n)=>{n.d(t,{XU:()=>eQ,yf:()=>ne});var r,o,i,a,s,c,u,l,f,d,p,v,g,m={log:"log",debug:"debug",info:"info",warn:"warn",error:"error"},y=console,h={};Object.keys(m).forEach(function(e){h[e]=y[e]});var b="Datadog Browser SDK:",S={debug:h.debug.bind(y,b),log:h.log.bind(y,b),info:h.info.bind(y,b),warn:h.warn.bind(y,b),error:h.error.bind(y,b)},w="https://docs.datadoghq.com",C="".concat(w,"/real_user_monitoring/browser/troubleshooting"),k="More details:";function _(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return e.apply(void 0,n)}catch(e){S.error(t,e)}}}var x=function(e,t,n){if(n||2==arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},E=!1;function O(e){E=e}function T(e,t,n){var o=n.value;n.value=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(r?R(o):o).apply(this,e)}}function R(e){return function(){return L(e,this,arguments)}}function L(e,t,n){try{return e.apply(t,n)}catch(e){if(A(e),r)try{r(e)}catch(e){A(e)}}}function A(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];E&&S.error.apply(S,x(["[MONITOR]"],e,!1))}function I(e,t){return -1!==e.indexOf(t)}function N(e){if(Array.from)return Array.from(e);var t=[];if(e instanceof Set)e.forEach(function(e){return t.push(e)});else for(var n=0;n<e.length;n++)t.push(e[n]);return t}function P(e){return Object.keys(e).map(function(t){return e[t]})}function M(e,t){return e.slice(0,t.length)===t}function D(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.forEach(function(t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}),e}function U(){if("object"==typeof globalThis)return globalThis;Object.defineProperty(Object.prototype,"_dd_temp_",{get:function(){return this},configurable:!0});var e=_dd_temp_;return delete Object.prototype._dd_temp_,"object"!=typeof e&&(e="object"==typeof self?self:"object"==typeof window?window:{}),e}var B=/[^\u0000-\u007F]/;function q(e){return B.test(e)?void 0!==window.TextEncoder?new TextEncoder().encode(e).length:new Blob([e]).size:e.length}function j(e,t){var n,r=U();return r.Zone&&"function"==typeof r.Zone.__symbol__&&(n=e[r.Zone.__symbol__(t)]),n||(n=e[t]),n}function G(e,t){return j(U(),"setTimeout")(R(e),t)}function F(e){j(U(),"clearTimeout")(e)}function H(e,t){return j(U(),"setInterval")(R(e),t)}function z(e){j(U(),"clearInterval")(e)}function J(e,t,n){var r,o,i=!n||void 0===n.leading||n.leading,a=!n||void 0===n.trailing||n.trailing,s=!1;return{throttled:function(){for(var n=[],c=0;c<arguments.length;c++)n[c]=arguments[c];if(s){r=n;return}i?e.apply(void 0,n):r=n,s=!0,o=G(function(){a&&r&&e.apply(void 0,r),s=!1,r=void 0},t)},cancel:function(){F(o),s=!1,r=void 0}}}function K(){}function W(e,t,n){if("object"!=typeof e||null===e)return JSON.stringify(e);var r=V(Object.prototype),o=V(Array.prototype),i=V(Object.getPrototypeOf(e)),a=V(e);try{return JSON.stringify(e,t,n)}catch(e){return"<error: unable to serialize object>"}finally{r(),o(),i(),a()}}function V(e){var t=e.toJSON;return t?(delete e.toJSON,function(){e.toJSON=t}):K}function $(e,t){return Object.keys(e).some(function(n){return e[n]===t})}function Y(e){return 0===Object.keys(e).length}function X(e){var t=0,n=J(function(n){t=q(W(n)),e()},200),r=n.throttled,o=n.cancel,i=function(){o(),t=0};return{updateCustomerData:function(e){Y(e)?i():r(e)},resetCustomerData:i,getBytesCount:function(){return t},stop:function(){o()}}}function Z(e){return null===e?"null":Array.isArray(e)?"array":typeof e}function Q(e,t,n){if(void 0===n&&(n=function(){if("undefined"!=typeof WeakSet){var e=new WeakSet;return{hasAlreadyBeenSeen:function(t){var n=e.has(t);return n||e.add(t),n}}}var t=[];return{hasAlreadyBeenSeen:function(e){var n=t.indexOf(e)>=0;return n||t.push(e),n}}}()),void 0===t)return e;if("object"!=typeof t||null===t)return t;if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){var r=t.flags||[t.global?"g":"",t.ignoreCase?"i":"",t.multiline?"m":"",t.sticky?"y":"",t.unicode?"u":""].join("");return new RegExp(t.source,r)}if(!n.hasAlreadyBeenSeen(t)){if(Array.isArray(t)){for(var o=Array.isArray(e)?e:[],i=0;i<t.length;++i)o[i]=Q(o[i],t[i],n);return o}var a="object"===Z(e)?e:{};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(a[s]=Q(a[s],t[s],n));return a}}function ee(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0;r<t.length;r++){var o=t[r];null!=o&&(e=Q(e,o))}return e}function et(e,t){void 0===t&&(t=225280);var n=V(Object.prototype),r=V(Array.prototype),o=[],i=new WeakMap,a=en(e,"$",void 0,o,i),s=JSON.stringify(a),c=s?s.length:0;if(c>t)return void er(t,"discarded",e);for(;o.length>0&&c<t;){var u=o.shift(),l=0;if(Array.isArray(u.source))for(var f=0;f<u.source.length;f++){var d=en(u.source[f],u.path,f,o,i);if(void 0!==d?c+=JSON.stringify(d).length:c+=4,c+=l,l=1,c>t){er(t,"truncated",e);break}u.target[f]=d}else for(var f in u.source)if(Object.prototype.hasOwnProperty.call(u.source,f)){var d=en(u.source[f],u.path,f,o,i);if(void 0!==d&&(c+=JSON.stringify(d).length+l+f.length+3,l=1),c>t){er(t,"truncated",e);break}u.target[f]=d}}return n(),r(),a}function en(e,t,n,r,o){var i,a=function(e){if(e&&"function"==typeof e.toJSON)try{return e.toJSON()}catch(e){}return e}(e);if(!a||"object"!=typeof a){return"bigint"==typeof(i=a)?"[BigInt] ".concat(i.toString()):"function"==typeof i?"[Function] ".concat(i.name||"unknown"):"symbol"==typeof i?"[Symbol] ".concat(i.description||i.toString()):i}var s=function(e){try{if(e instanceof Event)return{isTrusted:e.isTrusted};var t=Object.prototype.toString.call(e).match(/\[object (.*)\]/);if(t&&t[1])return"[".concat(t[1],"]")}catch(e){}return"[Unserializable]"}(a);if("[Object]"!==s&&"[Array]"!==s&&"[Error]"!==s)return s;if(o.has(e))return"[Reference seen at ".concat(o.get(e),"]");var c=void 0!==n?"".concat(t,".").concat(n):t,u=Array.isArray(a)?[]:{};return o.set(e,c),r.push({source:a,target:u,path:c}),u}function er(e,t,n){S.warn("The data provided has been ".concat(t," as it is over the limit of ").concat(e," characters:"),n)}var eo=function(){function e(e){this.onFirstSubscribe=e,this.observers=[]}return e.prototype.subscribe=function(e){var t=this;return this.observers.push(e),1===this.observers.length&&this.onFirstSubscribe&&(this.onLastUnsubscribe=this.onFirstSubscribe(this)||void 0),{unsubscribe:function(){t.observers=t.observers.filter(function(t){return e!==t}),!t.observers.length&&t.onLastUnsubscribe&&t.onLastUnsubscribe()}}},e.prototype.notify=function(e){this.observers.forEach(function(t){return t(e)})},e}();function ei(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new eo(function(t){var n=e.map(function(e){return e.subscribe(function(e){return t.notify(e)})});return function(){return n.forEach(function(e){return e.unsubscribe()})}})}function ea(e){var t={},n=new eo,r={getContext:function(){return Q(void 0,t)},setContext:function(o){"object"===Z(o)?(t=et(o),null==e||e.updateCustomerData(t)):r.clearContext(),n.notify()},setContextProperty:function(r,o){t[r]=et(o),null==e||e.updateCustomerData(t),n.notify()},removeContextProperty:function(r){delete t[r],null==e||e.updateCustomerData(t),n.notify()},clearContext:function(){t={},null==e||e.resetCustomerData(),n.notify()},changeObservable:n};return r}var es={GRANTED:"granted",NOT_GRANTED:"not-granted"};function ec(e,t,n,r,o){var i=void 0===o?{}:o,a=i.once,s=i.capture,c=i.passive,u=R(function(t){(t.isTrusted||t.__ddIsTrusted||e.allowUntrustedEvents)&&(a&&p(),r(t))}),l=c?{capture:s,passive:c}:s,f=window.EventTarget&&t instanceof EventTarget?window.EventTarget.prototype:t,d=j(f,"addEventListener");function p(){var e=j(f,"removeEventListener");n.forEach(function(n){return e.call(t,n,u,l)})}return n.forEach(function(e){return d.call(t,e,u,l)}),{stop:p}}var eu=[];function el(e,t,n,r){var o,i,a=(o=n,i=r,"".concat("_dd_c","_").concat(o,"_").concat(i));function s(){var e=localStorage.getItem(a);return null!==e?JSON.parse(e):{}}eu.push(ec(e,window,["storage"],function(e){a===e.key&&t.setContext(s())},void 0)),t.changeObservable.subscribe(function(){localStorage.setItem(a,JSON.stringify(t.getContext()))}),t.setContext(ee(s(),t.getContext()))}function ef(e){var t=[],n=eS(e,"stack"),r=String(e);return n&&M(n,r)&&(n=n.slice(r.length)),n&&n.split("\n").forEach(function(e){var n=function(e){var t=ev.exec(e);if(t){var n=t[2]&&0===t[2].indexOf("native"),r=t[2]&&0===t[2].indexOf("eval"),o=eg.exec(t[2]);return r&&o&&(t[2]=o[1],t[3]=o[2],t[4]=o[3]),{args:n?[t[2]]:[],column:t[4]?+t[4]:void 0,func:t[1]||"?",line:t[3]?+t[3]:void 0,url:n?void 0:t[2]}}}(e)||function(e){var t=em.exec(e);if(t)return{args:[],column:t[3]?+t[3]:void 0,func:"?",line:t[2]?+t[2]:void 0,url:t[1]}}(e)||function(e){var t=ey.exec(e);if(t)return{args:[],column:t[4]?+t[4]:void 0,func:t[1]||"?",line:+t[3],url:t[2]}}(e)||function(e){var t=eh.exec(e);if(t){var n=t[3]&&t[3].indexOf(" > eval")>-1,r=eb.exec(t[3]);return n&&r&&(t[3]=r[1],t[4]=r[2],t[5]=void 0),{args:t[2]?t[2].split(","):[],column:t[5]?+t[5]:void 0,func:t[1]||"?",line:t[4]?+t[4]:void 0,url:t[3]}}}(e);n&&(!n.func&&n.line&&(n.func="?"),t.push(n))}),{message:eS(e,"message"),name:eS(e,"name"),stack:t}}var ed="((?:file|https?|blob|chrome-extension|electron|native|eval|webpack|snippet|<anonymous>|\\w+\\.|\\/).*?)",ep="(?::(\\d+))",ev=RegExp("^\\s*at (.*?) ?\\(".concat(ed).concat(ep,"?").concat(ep,"?\\)?\\s*$"),"i"),eg=new RegExp("\\((\\S*)".concat(ep).concat(ep,"\\)")),em=RegExp("^\\s*at ?".concat(ed).concat(ep,"?").concat(ep,"??\\s*$"),"i"),ey=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,eh=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,eb=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function eS(e,t){if("object"==typeof e&&e&&t in e){var n=e[t];return"string"==typeof n?n:void 0}}var ew=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?([\s\S]*)$/;function eC(){var e,t=Error();if(!t.stack)try{throw t}catch(e){}return L(function(){var n=ef(t);n.stack=n.stack.slice(2),e=ek(n)}),e}function ek(e){var t=e_(e);return e.stack.forEach(function(e){var n="?"===e.func?"<anonymous>":e.func,r=e.args&&e.args.length>0?"(".concat(e.args.join(", "),")"):"",o=e.line?":".concat(e.line):"",i=e.line&&e.column?":".concat(e.column):"";t+="\n  at ".concat(n).concat(r," @ ").concat(e.url).concat(o).concat(i)}),t}function e_(e){return"".concat(e.name||"Error",": ").concat(e.message)}var ex="No stack, consider using an instance of Error";function eE(e){var t,n,r,o,i,a,s=e.stackTrace,c=e.originalError,u=e.handlingStack,l=e.startClocks,f=e.nonErrorPrefix,d=e.source,p=e.handling,v=eT(c),g=(t=s,n=v,r=f,o=c,(null==t?void 0:t.message)&&(null==t?void 0:t.name)?t.message:n?"Empty message":"".concat(r," ").concat(W(et(o)))),m=(i=v,void 0!==(a=s)&&(i||a.stack.length>0&&(a.stack.length>1||void 0!==a.stack[0].url)))?ek(s):ex,y=v?eR(c,d):void 0,h=s?s.name:void 0,b=eO(c);return{startClocks:l,source:d,handling:p,handlingStack:u,originalError:c,type:h,message:g,stack:m,causes:y,fingerprint:b}}function eO(e){return eT(e)&&"dd_fingerprint"in e?String(e.dd_fingerprint):void 0}function eT(e){return e instanceof Error||"[object Error]"===Object.prototype.toString.call(e)}function eR(e,t){for(var n=e,r=[];eT(null==n?void 0:n.cause)&&r.length<10;){var o=ef(n.cause);r.push({message:n.cause.message,source:t,type:null==o?void 0:o.name,stack:o&&ek(o)}),n=n.cause}return r.length?r:void 0}!function(e){e.WRITABLE_RESOURCE_GRAPHQL="writable_resource_graphql",e.REMOTE_CONFIGURATION="remote_configuration",e.LONG_ANIMATION_FRAME="long_animation_frame",e.ANONYMOUS_USER_TRACKING="anonymous_user_tracking",e.ACTION_NAME_MASKING="action_name_masking",e.CONSISTENT_TRACE_SAMPLING="consistent_trace_sampling",e.DELAY_VIEWPORT_COLLECTION="delay_viewport_collection"}(o||(o={}));var eL=new Set,eA="datadoghq.com",eI=["ddsource","ddtags"],eN=31536e6;function eP(){return new Date().getTime()}function eM(){return performance.now()}function eD(){return{relative:eM(),timeStamp:eP()}}function eU(){return void 0===i&&(i=performance.timing.navigationStart),i}function eB(e,t){var n=window.__ddBrowserSdkExtensionCallback;n&&n({type:e,payload:t})}function eq(e){return 0!==e&&100*Math.random()<=e}function ej(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}function eG(){var e=[];return{add:function(t){e.push(t)>500&&e.splice(0,1)},remove:function(t){ej(e,t)},drain:function(t){e.forEach(function(e){return e(t)}),e.length=0}}}var eF={log:"log",configuration:"configuration",usage:"usage"},eH=["https://www.datadoghq-browser-agent.com","https://www.datad0g-browser-agent.com","https://d3uc069fcn7uxw.cloudfront.net","https://d20xtzwzcl0ceb.cloudfront.net","http://localhost","<anonymous>"],ez=["ddog-gov.com"],eJ=eG(),eK=function(e){eJ.add(function(){return eK(e)})};function eW(e,t){A(m.debug,e,t),eK(D({type:eF.log,message:e,status:"debug"},t))}function eV(e,t){eK(D({type:eF.log,status:"error"},function(e){if(eT(e)){var t,n=ef(e);return{error:{kind:n.name,stack:ek(((t=n).stack=t.stack.filter(function(e){return!e.url||eH.some(function(t){return M(e.url,t)})}),t))},message:n.message}}return{error:{stack:ex},message:"".concat("Uncaught"," ").concat(W(e))}}(e),t))}function e$(e){var t=D({},e);return["id","name","email"].forEach(function(e){e in t&&(t[e]=String(t[e]))}),t}function eY(e,t){t.silentMultipleInit||S.error("".concat(e," is already initialized."))}var eX={AGENT:"agent",CONSOLE:"console",LOGGER:"logger",NETWORK:"network",SOURCE:"source",REPORT:"report"};function eZ(e,t,n){var r=n.getHandler(),o=Array.isArray(r)?r:[r];return e0[e]>=e0[n.getLevel()]&&I(o,t)}var eQ={ok:"ok",debug:"debug",info:"info",notice:"notice",warn:"warn",error:"error",critical:"critical",alert:"alert",emerg:"emerg"},e0=((a={})[eQ.ok]=0,a[eQ.debug]=1,a[eQ.info]=2,a[eQ.notice]=4,a[eQ.warn]=5,a[eQ.error]=6,a[eQ.critical]=7,a[eQ.alert]=8,a[eQ.emerg]=9,a);function e1(e,t){var n=(void 0===t?{}:t).includeMessage;return{stack:e.stack,kind:e.type,message:void 0!==n&&n?e.message:void 0,causes:e.causes,fingerprint:e.fingerprint,handling:e.handling}}var e2=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},e3={console:"console",http:"http"},e4=Object.keys(eQ),e5=function(){function e(e,t,n,r,o,i){void 0===r&&(r=e3.http),void 0===o&&(o=eQ.debug),void 0===i&&(i={}),this.handleLogStrategy=e,this.handlerType=r,this.level=o,this.contextManager=ea(t),this.contextManager.setContext(i),n&&this.contextManager.setContextProperty("logger",{name:n})}return e.prototype.logImplementation=function(e,t,n,r,o){void 0===n&&(n=eQ.info);var i,a=et(t);i=null!=r?ee({error:e1(eE({stackTrace:eT(r)?ef(r):void 0,originalError:r,nonErrorPrefix:"Provided",source:eX.LOGGER,handling:"handled",startClocks:eD()}),{includeMessage:!0})},a):a,this.handleLogStrategy({message:et(e),context:i,status:n},this,o)},e.prototype.log=function(e,t,n,r){var o;void 0===n&&(n=eQ.info),eZ(n,e3.http,this)&&(o=eC()),this.logImplementation(e,t,n,r,o)},e.prototype.setContext=function(e){this.contextManager.setContext(e)},e.prototype.getContext=function(){return this.contextManager.getContext()},e.prototype.setContextProperty=function(e,t){this.contextManager.setContextProperty(e,t)},e.prototype.removeContextProperty=function(e){this.contextManager.removeContextProperty(e)},e.prototype.clearContext=function(){this.contextManager.clearContext()},e.prototype.setHandler=function(e){this.handlerType=e},e.prototype.getHandler=function(){return this.handlerType},e.prototype.setLevel=function(e){this.level=e},e.prototype.getLevel=function(){return this.level},e2([T],e.prototype,"logImplementation",null),e}();function e6(e){return function(t,n,r){var o;eZ(e,e3.http,this)&&(o=eC()),this.logImplementation(t,n,e,r,o)}}function e8(){var e=U().DatadogEventBridge;if(e)return{getCapabilities:function(){var t;return JSON.parse((null==(t=e.getCapabilities)?void 0:t.call(e))||"[]")},getPrivacyLevel:function(){var t;return null==(t=e.getPrivacyLevel)?void 0:t.call(e)},getAllowedWebViewHosts:function(){return JSON.parse(e.getAllowedWebViewHosts())},send:function(t,n,r){e.send(JSON.stringify({eventType:t,event:n,view:r?{id:r}:void 0}))}}}function e9(e){void 0===e&&(e=null==(t=U().location)?void 0:t.hostname);var t,n=e8();return!!n&&n.getAllowedWebViewHosts().some(function(t){var n,r;return e===t||(n=e,r=".".concat(t),n.slice(-r.length)===r)})}function e7(e,t,n,r){var o=(void 0===r?{}:r).computeHandlingStack,i=e[t];if("function"!=typeof i)if(!(t in e&&M(t,"on")))return{stop:K};else i=K;var a=!1,s=function(){if(a)return i.apply(this,arguments);var e,t=N(arguments);L(n,null,[{target:this,parameters:t,onPostCall:function(t){e=t},handlingStack:o?eC():void 0}]);var r=i.apply(this,t);return e&&L(e,null,[r]),r};return e[t]=s,{stop:function(){a=!0,e[t]===s&&(e[t]=i)}}}function te(e){return function(e,t){var n=function(){if(void 0===s)try{var e=new tt("http://test/path");s="http://test/path"===e.href}catch(e){s=!1}return s?tt:void 0}();if(n)try{return void 0!==t?new n(e,t):new n(e)}catch(n){throw Error("Failed to construct URL: ".concat(String(n)," ").concat(W({url:e,base:t})))}if(void 0===t&&!/:/.test(e))throw Error("Invalid URL: '".concat(e,"'"));var r=document,o=r.createElement("a");if(void 0!==t){var i=(r=document.implementation.createHTMLDocument("")).createElement("base");i.href=t,r.head.appendChild(i),r.body.appendChild(o)}return o.href=e,o}(e,location.href).href}e5.prototype.ok=e6(eQ.ok),e5.prototype.debug=e6(eQ.debug),e5.prototype.info=e6(eQ.info),e5.prototype.notice=e6(eQ.notice),e5.prototype.warn=e6(eQ.warn),e5.prototype.error=e6(eQ.error),e5.prototype.critical=e6(eQ.critical),e5.prototype.alert=e6(eQ.alert),e5.prototype.emerg=e6(eQ.emerg);var tt=URL;function tn(){return c||(c=new eo(function(e){if(window.fetch)return e7(window,"fetch",function(t){var n,r,o,i,a,s,c,u,l,f,d;return n=t,r=e,o=n.parameters,i=n.onPostCall,a=n.handlingStack,s=o[0],void 0===(u=(c=o[1])&&c.method)&&s instanceof Request&&(u=s.method),l=void 0!==u?String(u).toUpperCase():"GET",f=s instanceof Request?s.url:te(String(s)),d={state:"start",init:c,input:s,method:l,startClocks:eD(),url:f,handlingStack:a},void(r.notify(d),o[0]=d.input,o[1]=d.init,i(function(e){var t=r,n=e,o=d;function i(e){o.state="resolve",D(o,e),t.notify(o)}n.then(R(function(e){i({response:e,responseType:e.type,status:e.status,isAborted:!1})}),R(function(e){var t,n;i({status:0,isAborted:(null==(n=null==(t=o.init)?void 0:t.signal)?void 0:n.aborted)||e instanceof DOMException&&e.code===DOMException.ABORT_ERR,error:e})}))}))},{computeHandlingStack:!0}).stop})),c}function tr(e){return e?(parseInt(e,10)^16*Math.random()>>parseInt(e,10)/4).toString(16):"".concat(1e7,"-").concat(1e3,"-").concat(4e3,"-").concat(8e3,"-").concat(1e11).replace(/[018]/g,tr)}var to=/([\w-]+)\s*=\s*([^;]+)/g;function ti(e,t,n,r){void 0===n&&(n=0);var o=new Date;o.setTime(o.getTime()+n);var i="expires=".concat(o.toUTCString()),a=r&&r.crossSite?"none":"strict",s=r&&r.domain?";domain=".concat(r.domain):"",c=r&&r.secure?";secure":"",u=r&&r.partitioned?";partitioned":"";document.cookie="".concat(e,"=").concat(t,";").concat(i,";path=/;samesite=").concat(a).concat(s).concat(c).concat(u)}function ta(e){var t=document.cookie;for(to.lastIndex=0;;){var n=to.exec(t);if(n){if(n[1]===e)return n[2]}else break}}function ts(e){return l||(l=function(e){var t=new Map;for(to.lastIndex=0;;){var n=to.exec(e);if(n)t.set(n[1],n[2]);else break}return t}(document.cookie)),l.get(e)}var tc="_dd_s",tu=144e5,tl=9e5,tf={COOKIE:"cookie",LOCAL_STORAGE:"local-storage"},td=/^([a-zA-Z]+)=([a-z0-9-]+)$/;function tp(e){var t,n={isExpired:"1"};return t=o.ANONYMOUS_USER_TRACKING,eL.has(t)&&((null==e?void 0:e.anonymousId)?n.anonymousId=null==e?void 0:e.anonymousId:n.anonymousId=Math.floor(0x20000000000000*Math.random()).toString(36)),n}function tv(e){return!Y(e)}function tg(e){var t;return void 0!==e.isExpired||!((void 0===(t=e).created||eP()-Number(t.created)<tu)&&(void 0===t.expire||eP()<Number(t.expire)))}function tm(e){e.expire=String(eP()+tl)}function ty(e){return Object.keys(e).map(function(t){return[t,e[t]]}).map(function(e){var t=e[0],n=e[1];return"anonymousId"===t?"aid=".concat(n):"".concat(t,"=").concat(n)}).join("&")}function th(e){var t={};return e&&(-1!==e.indexOf("&")||td.test(e))&&e.split("&").forEach(function(e){var n=td.exec(e);if(null!==n){var r=n[1],o=n[2];"aid"===r?t.anonymousId=o:t[r]=o}}),t}function tb(e){var t,n,r=((n={}).secure=!!(t=e).useSecureSessionCookie||!!t.usePartitionedCrossSiteSessionCookie||!!t.useCrossSiteSessionCookie,n.crossSite=!!t.usePartitionedCrossSiteSessionCookie||!!t.useCrossSiteSessionCookie,n.partitioned=!!t.usePartitionedCrossSiteSessionCookie,t.trackSessionAcrossSubdomains&&(n.domain=function(){if(void 0===f){for(var e="dd_site_test_".concat(tr()),t=window.location.hostname.split("."),n=t.pop();t.length&&!ta(e);)ti(e,"test",1e3,{domain:n="".concat(t.pop(),".").concat(n)});ti(e,"",0,{domain:n}),f=n}return f}()),n);return!function(e){if(void 0===document.cookie||null===document.cookie)return!1;try{var t="dd_cookie_test_".concat(tr()),n="test";ti(t,n,6e4,e);var r=ta(t)===n;return ti(t,"",0,e),r}catch(e){return S.error(e),!1}}(r)?void 0:{type:tf.COOKIE,cookieOptions:r}}function tS(){return th(ta(tc))}function tw(){try{var e=tr(),t="".concat("_dd_test_").concat(e);localStorage.setItem(t,e);var n=localStorage.getItem(t);return localStorage.removeItem(t),e===n?{type:tf.LOCAL_STORAGE}:void 0}catch(e){return}}function tC(e){localStorage.setItem(tc,ty(e))}function tk(){return th(localStorage.getItem(tc))}function t_(e){tC(tp(e))}var tx=[];function tE(e,t,n){void 0===n&&(n=0);var r,o,i=t.isLockEnabled,a=t.persistSession,s=t.expireSession,c=function(e){return a(D({},e,{lock:o}))},u=function(){var e=t.retrieveSession(),n=e.lock;return e.lock&&delete e.lock,{session:e,lock:n}};if(d||(d=e),e!==d)return void tx.push(e);if(i&&n>=100)return void tT(t);var l=u();if(i&&(l.lock||(o=tr(),c(l.session),(l=u()).lock!==o)))return void tO(e,t,n);var f=e.process(l.session);if(i&&(l=u()).lock!==o)return void tO(e,t,n);if(f&&(tg(f)?s(f):(tm(f),i?c(f):a(f))),i&&!(f&&tg(f))){if((l=u()).lock!==o)return void tO(e,t,n);a(l.session),f=l.session}null==(r=e.after)||r.call(e,f||l.session),tT(t)}function tO(e,t,n){G(function(){tE(e,t,n+1)},10)}function tT(e){d=void 0;var t=tx.shift();t&&tE(t,e)}function tR(e,t,n){var r=function(e,t){var n="/api/v2/".concat(t),r=e.proxy;if("string"==typeof r){var o=te(r);return function(e){return"".concat(o,"?ddforward=").concat(encodeURIComponent("".concat(n,"?").concat(e)))}}if("function"==typeof r)return function(e){return r({path:n,parameters:e})};var i=function(e,t){var n=t.site,r=void 0===n?eA:n,o=t.internalAnalyticsSubdomain;if("logs"===e&&t.usePciIntake&&r===eA)return"pci.browser-intake-datadoghq.com";if(o&&r===eA)return"".concat(o,".").concat(eA);if("dd0g-gov.com"===r)return"http-intake.logs.".concat(r);var i=r.split("."),a=i.pop();return"browser-intake-".concat(i.join("-"),".").concat(a)}(t,e);return function(e){return"https://".concat(i).concat(n,"?").concat(e)}}(e,t);return{build:function(o,i){var a,s,c,u,l,f,d,p,v,g,m;return r((a=e,s=t,c=n,u=o,l=i,f=a.clientToken,d=a.internalAnalyticsSubdomain,p=l.retry,v=l.encoding,g=["sdk_version:".concat("5.35.1"),"api:".concat(u)].concat(c),p&&g.push("retry_count:".concat(p.count),"retry_after:".concat(p.lastFailureStatus)),m=["ddsource=browser","ddtags=".concat(encodeURIComponent(g.join(","))),"dd-api-key=".concat(f),"dd-evp-origin-version=".concat(encodeURIComponent("5.35.1")),"dd-evp-origin=browser","dd-request-id=".concat(tr())],v&&m.push("dd-evp-encoding=".concat(v)),"rum"===s&&m.push("batch_time=".concat(eP())),d&&m.reverse(),m.join("&")))},urlPrefix:r(""),trackType:t}}function tL(e,t){var n,r=200-e.length-1;(t.length>r||(n=t,function(){try{return RegExp("[\\p{Ll}]","u"),!0}catch(e){return!1}}()&&RegExp("[^\\p{Ll}\\p{Lo}0-9_:./-]","u").test(n)))&&S.warn("".concat(e," value doesn't meet tag requirements and will be sanitized. ").concat(k," ").concat(w,"/getting_started/tagging/#defining-tags"));var o=t.replace(/,/g,"_");return"".concat(e,":").concat(o)}function tA(e,t){return null==e||"string"==typeof e||(S.error("".concat(t," must be defined as a string")),!1)}function tI(e,t){return void 0===e||!!("number"==typeof e&&e>=0&&e<=100)||(S.error("".concat(t," Sample Rate should be a number between 0 and 100")),!1)}var tN={intervention:"intervention",deprecation:"deprecation",cspViolation:"csp_violation"};function tP(e){return D({startClocks:eD(),source:eX.REPORT,handling:"unhandled"},e)}function tM(e,t,n,r,o){return n?ek({name:e,message:t,stack:[{func:"?",url:n,line:null!=r?r:void 0,column:null!=o?o:void 0}]}):void 0}function tD(e,t,n){var r;return void 0===e?[]:"all"===e||Array.isArray(e)&&e.every(function(e){return I(t,e)})?"all"===e?t:(r=new Set,e.forEach(function(e){return r.add(e)}),N(r)):void S.error("".concat(n,' should be "all" or an array with allowed values "').concat(t.join('", "'),'"'))}var tU="logs",tB={HIDDEN:"visibility_hidden",UNLOADING:"before_unload",PAGEHIDE:"page_hide",FROZEN:"page_frozen"};function tq(){return!!(window._DATADOG_SYNTHETICS_INJECTS_RUM||ts("datadog-synthetics-injects-rum"))}var tj=1/0,tG=[];function tF(e){return eq(e.sessionSampleRate)?"1":"0"}var tH=!1;function tz(e){var t=window;if(tq()){var n,r,o=i(t.DD_RUM_SYNTHETICS);return o||tH||(tH=!0,eW("Logs sent before RUM is injected by the synthetics worker",{testId:"string"==typeof(n=window._DATADOG_SYNTHETICS_PUBLIC_ID||ts("datadog-synthetics-public-id"))?n:void 0,resultId:"string"==typeof(r=window._DATADOG_SYNTHETICS_RESULT_ID||ts("datadog-synthetics-result-id"))?r:void 0})),o}return i(t.DD_RUM);function i(t){if(t&&t.getInternalContext)return t.getInternalContext(e)}}var tJ={},tK=((p={})[m.log]=eQ.info,p[m.debug]=eQ.debug,p[m.info]=eQ.info,p[m.warn]=eQ.warn,p[m.error]=eQ.error,p),tW=new WeakMap;function tV(e){var t=e.target,n=e.parameters,r=n[0],o=n[1];tW.set(t,{state:"open",method:String(r).toUpperCase(),url:te(String(o))})}function t$(e){var t=e.target,n=tW.get(t);n&&(n.isAborted=!0)}function tY(e,t){return e.length>t.requestErrorResponseLengthLimit?"".concat(e.substring(0,t.requestErrorResponseLengthLimit),"..."):e}var tX=function(){function e(){this.callbacks={}}return e.prototype.notify=function(e,t){var n=this.callbacks[e];n&&n.forEach(function(e){return e(t)})},e.prototype.subscribe=function(e,t){var n=this;return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),{unsubscribe:function(){n.callbacks[e]=n.callbacks[e].filter(function(e){return t!==e})}}},e}(),tZ=((g={})[eQ.ok]=m.debug,g[eQ.debug]=m.debug,g[eQ.info]=m.info,g[eQ.notice]=m.info,g[eQ.warn]=m.warn,g[eQ.error]=m.error,g[eQ.critical]=m.error,g[eQ.alert]=m.error,g[eQ.emerg]=m.error,g);function tQ(e){var t=e.encoder,n=e.request,r=e.flushController,o=e.messageBytesLimit,i={},a=r.flushObservable.subscribe(function(e){return function(e){var r,o=P(i).join("\n");i={};var a=(r=e.reason,I(P(tB),r)),s=a?n.sendOnExit:n.send;if(a&&t.isAsync){var c=t.finishSync();c.outputBytesCount&&s(t0(c));var u=[c.pendingData,o].filter(Boolean).join("\n");u&&s({data:u,bytesCount:q(u)})}else o&&t.write(t.isEmpty?o:"\n".concat(o)),t.finish(function(e){s(t0(e))})}(e)});function s(e,n){var a,s,c=W(e),u=t.estimateEncodedBytesCount(c);if(u>=o)return void S.warn("Discarded a message whose size was bigger than the maximum allowed size ".concat(o,"KB. ").concat(k," ").concat(C,"/#technical-limitations"));void 0!==n&&void 0!==i[n]&&(a=i[n],delete i[n],s=t.estimateEncodedBytesCount(a),r.notifyAfterRemoveMessage(s)),r.notifyBeforeAddMessage(u),void 0!==n?(i[n]=c,r.notifyAfterAddMessage()):t.write(t.isEmpty?c:"\n".concat(c),function(e){r.notifyAfterAddMessage(e-u)})}return{flushController:r,add:s,upsert:s,stop:a.unsubscribe}}function t0(e){var t;return{data:"string"==typeof e.output?e.output:new Blob([e.output],{type:"text/plain"}),bytesCount:e.outputBytesCount,encoding:e.encoding}}var t1=3145728;function t2(e,t,n,r,o){0===t.transportStatus&&0===t.queuedPayloads.size()&&t.bandwidthMonitor.canHandle(e)?t3(e,t,n,{onSuccess:function(){return t4(0,t,n,r,o)},onFailure:function(){t.queuedPayloads.enqueue(e),function e(t,n,r,o){2===t.transportStatus&&G(function(){t3(t.queuedPayloads.first(),t,n,{onSuccess:function(){t.queuedPayloads.dequeue(),t.currentBackoffTime=1e3,t4(1,t,n,r,o)},onFailure:function(){t.currentBackoffTime=Math.min(6e4,2*t.currentBackoffTime),e(t,n,r,o)}})},t.currentBackoffTime)}(t,n,r,o)}}):t.queuedPayloads.enqueue(e)}function t3(e,t,n,r){var o=r.onSuccess,i=r.onFailure;t.bandwidthMonitor.add(e),n(e,function(n){var r;t.bandwidthMonitor.remove(e),"opaque"!==(r=n).type&&(0===r.status&&!navigator.onLine||408===r.status||429===r.status||r.status>=500)?(t.transportStatus=t.bandwidthMonitor.ongoingRequestCount>0?1:2,e.retry={count:e.retry?e.retry.count+1:1,lastFailureStatus:n.status},i()):(t.transportStatus=0,o())})}function t4(e,t,n,r,o){0===e&&t.queuedPayloads.isFull()&&!t.queueFullReported&&(o({message:"Reached max ".concat(r," events size queued for upload: ").concat(t1/1048576,"MiB"),source:eX.AGENT,startClocks:eD()}),t.queueFullReported=!0);var i=t.queuedPayloads;for(t.queuedPayloads=t5();i.size()>0;)t2(i.dequeue(),t,n,r,o)}function t5(){var e=[];return{bytesCount:0,enqueue:function(t){this.isFull()||(e.push(t),this.bytesCount+=t.bytesCount)},first:function(){return e[0]},dequeue:function(){var t=e.shift();return t&&(this.bytesCount-=t.bytesCount),t},size:function(){return e.length},isFull:function(){return this.bytesCount>=t1}}}var t6=!1;function t8(e,t,n){var r=new XMLHttpRequest;r.open("POST",e,!0),t instanceof Blob&&r.setRequestHeader("Content-Type",t.type),ec({allowUntrustedEvents:!0},r,["loadend"],function(){null==n||n({status:r.status})},{once:!0}),r.send(t)}function t9(e,t,n,r,o,i,a){void 0===a&&(a=tQ);var s=u(e,t),c=n&&u(e,n);function u(e,t){var n,s,c,u=t.endpoint,l=t.encoder;return a({encoder:l,request:(n=e.batchBytesLimit,s={transportStatus:0,currentBackoffTime:1e3,bandwidthMonitor:{ongoingRequestCount:0,ongoingByteCount:0,canHandle:function(e){return 0===this.ongoingRequestCount||this.ongoingByteCount+e.bytesCount<=81920&&this.ongoingRequestCount<32},add:function(e){this.ongoingRequestCount+=1,this.ongoingByteCount+=e.bytesCount},remove:function(e){this.ongoingRequestCount-=1,this.ongoingByteCount-=e.bytesCount}},queuedPayloads:t5(),queueFullReported:!1},c=function(e,t){var r,o,i,a;return r=u,o=n,i=e,a=t,void(function(){try{return window.Request&&"keepalive"in new Request("http://a")}catch(e){return!1}}()&&i.bytesCount<o?fetch(r.build("fetch",i),{method:"POST",body:i.data,keepalive:!0,mode:"cors"}).then(R(function(e){return null==a?void 0:a({status:e.status,type:e.type})}),R(function(){t8(r.build("xhr",i),i.data,a)})):t8(r.build("xhr",i),i.data,a))},{send:function(e){t2(e,s,c,u.trackType,r)},sendOnExit:function(e){!function(e,t,n){if(navigator.sendBeacon&&n.bytesCount<t)try{var r,o=e.build("beacon",n);if(navigator.sendBeacon(o,n.data))return}catch(e){r=e,t6||(t6=!0,eV(r))}t8(e.build("xhr",n),n.data)}(u,n,e)}}),flushController:function(e){var t,n=e.messagesLimit,r=e.bytesLimit,o=e.durationLimit,i=e.pageExitObservable,a=e.sessionExpireObservable,s=i.subscribe(function(e){return d(e.reason)}),c=a.subscribe(function(){return d("session_expire")}),u=new eo(function(){return function(){s.unsubscribe(),c.unsubscribe()}}),l=0,f=0;function d(e){if(0!==f){var t=f,n=l;f=0,l=0,p(),u.notify({reason:e,messagesCount:t,bytesCount:n})}}function p(){F(t),t=void 0}return{flushObservable:u,get messagesCount(){return f},notifyBeforeAddMessage:function(e){l+e>=r&&d("bytes_limit"),f+=1,l+=e,void 0===t&&(t=G(function(){d("duration_limit")},o))},notifyAfterAddMessage:function(e){void 0===e&&(e=0),l+=e,f>=n?d("messages_limit"):l>=r&&d("bytes_limit")},notifyAfterRemoveMessage:function(e){l-=e,0==(f-=1)&&p()}}}({messagesLimit:e.batchMessagesLimit,bytesLimit:e.batchBytesLimit,durationLimit:e.flushTimeout,pageExitObservable:o,sessionExpireObservable:i}),messageBytesLimit:e.messageBytesLimit})}return{flushObservable:s.flushController.flushObservable,add:function(e,t){void 0===t&&(t=!0),s.add(e),c&&t&&c.add(n.transformMessage?n.transformMessage(e):e)},upsert:function(e,t){s.upsert(e,t),c&&c.upsert(n.transformMessage?n.transformMessage(e):e,t)},stop:function(){s.stop(),c&&c.stop()}}}function t7(){var e="",t=0;return{isAsync:!1,get isEmpty(){return!e},write:function(n,r){var o=q(n);t+=o,e+=n,r&&r(o)},finish:function(e){e(this.finishSync())},finishSync:function(){var n={output:e,outputBytesCount:t,rawBytesCount:t,pendingData:""};return e="",t=0,n},estimateEncodedBytesCount:function(e){return e.length}}}var ne=function(e){var t,n,r,i=function(e){void 0===e&&(e=2);var t=new Map,n=!1;function r(r){if(void 0===r&&(r=0),!n&&0!==e){var o,i=2===e?3072:16384,a=r;t.forEach(function(e){a+=e.getBytesCount()}),a>i&&(o=i,S.warn("Customer data exceeds the recommended ".concat(o/1024,"KiB threshold. ").concat(k," ").concat(C,"/#customer-data-exceeds-the-recommended-threshold-warning")),n=!0)}}return{createDetachedTracker:function(){var e=X(function(){return r(e.getBytesCount())});return e},getOrCreateTracker:function(e){return t.has(e)||t.set(e,X(r)),t.get(e)},setCompressionStatus:function(t){0===e&&(e=t,r())},getCompressionStatus:function(){return e},stop:function(){t.forEach(function(e){return e.stop()}),t.clear()}}}(),a=ea(i.getOrCreateTracker(2)),s=ea(i.getOrCreateTracker(1)),c={tryToInit:function(e){t||(t=e)},update:function(e){t=e,n.notify()},isGranted:function(){return t===es.GRANTED},observable:n=new eo};function u(){return{view:{referrer:document.referrer,url:window.location.href},context:a.getContext(),user:s.getContext()}}var l=function(e,t,n){var r,i,a=eG(),s=t.observable.subscribe(c);function c(){if(i&&r&&t.isGranted()){s.unsubscribe();var e=n(r,i);a.drain(e)}}return{init:function(e){if(!e)return void S.error("Missing configuration");if(Array.isArray(n=e.enableExperimentalFeatures)&&n.filter(function(e){return $(o,e)}).forEach(function(e){eL.add(e)}),e9()&&(e=D({},e,{clientToken:"empty"})),r=e,i)return void eY("DD_LOGS",e);var n,a=function(e){!0===e.usePciIntake&&e.site&&"datadoghq.com"!==e.site&&S.warn("PCI compliance for Logs is only available for Datadog organizations in the US1 site. Default intake will be used.");var t=function(e){var t,n,r,o,i,a,s,c,u,l,f,d,p,v,g,m;if(!e||!e.clientToken)return void S.error("Client Token is not configured, we will not send any data.");if((!(a=e.site)||"string"!=typeof a||/(datadog|ddog|datad0g|dd0g)/.test(a)||(S.error("Site should be a valid Datadog site. ".concat(k," ").concat(w,"/getting_started/site/.")),0))&&tI(e.sessionSampleRate,"Session")&&tI(e.telemetrySampleRate,"Telemetry")&&tI(e.telemetryConfigurationSampleRate,"Telemetry Configuration")&&tI(e.telemetryUsageSampleRate,"Telemetry Usage")&&tA(e.version,"Version")&&tA(e.env,"Env")&&tA(e.service,"Service")){if(void 0!==e.trackingConsent&&!$(es,e.trackingConsent))return void S.error('Tracking Consent should be either "granted" or "not-granted"');return D({beforeSend:e.beforeSend&&_(e.beforeSend,"beforeSend threw an error:"),sessionStoreStrategyType:function(e){switch(e.sessionPersistence){case tf.COOKIE:return tb(e);case tf.LOCAL_STORAGE:return tw();case void 0:var t=tb(e);return!t&&e.allowFallbackToLocalStorage&&(t=tw()),t;default:S.error("Invalid session persistence '".concat(String(e.sessionPersistence),"'"))}}(e),sessionSampleRate:null!=(t=e.sessionSampleRate)?t:100,telemetrySampleRate:null!=(n=e.telemetrySampleRate)?n:20,telemetryConfigurationSampleRate:null!=(r=e.telemetryConfigurationSampleRate)?r:5,telemetryUsageSampleRate:null!=(o=e.telemetryUsageSampleRate)?o:5,service:e.service||void 0,silentMultipleInit:!!e.silentMultipleInit,allowUntrustedEvents:!!e.allowUntrustedEvents,trackingConsent:null!=(i=e.trackingConsent)?i:es.GRANTED,storeContextsAcrossPages:!!e.storeContextsAcrossPages,batchBytesLimit:16384,eventRateLimiterThreshold:3e3,maxTelemetryEventsPerPage:15,flushTimeout:3e4,batchMessagesLimit:50,messageBytesLimit:262144},(s=e.site||eA,c=e.env,u=e.service,l=e.version,f=e.datacenter,d=[],c&&d.push(tL("env",c)),u&&d.push(tL("service",u)),l&&d.push(tL("version",l)),f&&d.push(tL("datacenter",f)),p=d,v={logsEndpointBuilder:tR(g=e,"logs",m=p),rumEndpointBuilder:tR(g,"rum",m),sessionReplayEndpointBuilder:tR(g,"replay",m)},D({replica:function(e,t){if(e.replica){var n=D({},e,{site:eA,clientToken:e.replica.clientToken}),r={logsEndpointBuilder:tR(n,"logs",t),rumEndpointBuilder:tR(n,"rum",t)};return D({applicationId:e.replica.applicationId},r)}}(e,p),site:s},v)))}}(e),n=tD(e.forwardConsoleLogs,P(m),"Forward Console Logs"),r=tD(e.forwardReports,P(tN),"Forward Reports");if(t&&n&&r)return e.forwardErrorsToLogs&&!I(n,m.error)&&n.push(m.error),D({forwardErrorsToLogs:!1!==e.forwardErrorsToLogs,forwardConsoleLogs:n,forwardReports:r,requestErrorResponseLengthLimit:32768,sendLogsAfterSessionExpiration:!!e.sendLogsAfterSessionExpiration},t)}(e);a&&(i=a,tn().subscribe(K),t.tryToInit(a.trackingConsent),c())},get initConfiguration(){return r},getInternalContext:K,handleLog:function(t,n,r,o,i){void 0===o&&(o=e()),void 0===i&&(i=eP()),a.add(function(e){return e.handleLog(t,n,r,o,i)})}}}(u,c,function(t,n){t.storeContextsAcrossPages&&(el(n,a,tU,2),el(n,s,tU,1));var r=e(t,n,u,c);return l=D({init:function(e){eY("DD_LOGS",e)},initConfiguration:t},r),r}),f={};return Object.defineProperty(r=D({version:"5.35.1",onReady:function(e){e()}},{logger:new e5(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return l.handleLog.apply(l,e)},i.createDetachedTracker()),init:R(function(e){return l.init(e)}),setTrackingConsent:R(function(e){c.update(e),eK({type:eF.usage,usage:{feature:"set-tracking-consent",tracking_consent:e}})}),getGlobalContext:R(function(){return a.getContext()}),setGlobalContext:R(function(e){return a.setContext(e)}),setGlobalContextProperty:R(function(e,t){return a.setContextProperty(e,t)}),removeGlobalContextProperty:R(function(e){return a.removeContextProperty(e)}),clearGlobalContext:R(function(){return a.clearContext()}),createLogger:R(function(e,t){return void 0===t&&(t={}),f[e]=new e5(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return l.handleLog.apply(l,e)},i.createDetachedTracker(),et(e),t.handler,t.level,et(t.context)),f[e]}),getLogger:R(function(e){return f[e]}),getInitConfiguration:R(function(){return Q(void 0,l.initConfiguration)}),getInternalContext:R(function(e){return l.getInternalContext(e)}),setUser:R(function(e){var t;(t="object"===Z(e))||S.error("Unsupported user:",e),t&&s.setContext(e$(e))}),getUser:R(function(){return s.getContext()}),setUserProperty:R(function(e,t){var n,r=e$(((n={})[e]=t,n))[e];s.setContextProperty(e,r)}),removeUserProperty:R(function(e){return s.removeContextProperty(e)}),clearUser:R(function(){return s.clearContext()})}),"_setDebug",{get:function(){return O},enumerable:!1}),r}(function(e,t,n,i){var a=new tX,s=[];a.subscribe(1,function(e){return eB("logs",e)});var c=function(e){a.notify(0,{rawLogsEvent:{message:e.message,date:e.startClocks.timeStamp,origin:eX.AGENT,status:eQ.error}}),eW("Error reported to customer",{"error.message":e.message})},l=new eo(function(e){var n=ec(t,window,["visibilitychange","freeze"],function(t){"visibilitychange"===t.type&&"hidden"===document.visibilityState?e.notify({reason:tB.HIDDEN}):"freeze"===t.type&&e.notify({reason:tB.FROZEN})},{capture:!0}).stop,r=ec(t,window,["beforeunload"],function(){e.notify({reason:tB.UNLOADING})},void 0).stop;return function(){n(),r()}}),f=!t.sessionStoreStrategyType||e9()||tq()?(k="1"===tF(t)?{}:void 0,{findTrackedSession:function(){return k},expireObservable:new eo}):{findTrackedSession:function(e,t){void 0===t&&(t={returnInactive:!1});var n=_.findSession(e,t);return n&&"1"===n.trackingType?{id:n.id}:void 0},expireObservable:(_=function(e,t,n,r){var i,a,s,c,l,f,d,p,v,g,m,y,h=new eo,b=new eo,S=function(e,t,n){var r,i=new eo,a=new eo,s=new eo,c=e.type===tf.COOKIE?function(e){var t,n,r,i,a={isLockEnabled:1===(null!=u?u:(void 0===t&&(t=window),r=t.navigator.userAgent,u=t.chrome||/HeadlessChrome/.test(r)?1:(null==(n=t.navigator.vendor)?void 0:n.indexOf("Apple"))===0||/safari/i.test(r)&&!/chrome|android/i.test(r)?2:3*!t.document.documentMode)),persistSession:(i=e,function(e){ti(tc,ty(e),tl,i)}),retrieveSession:tS,expireSession:function(t){var n,r;return n=e,void ti(tc,ty(tp(t)),(r=o.ANONYMOUS_USER_TRACKING,eL.has(r))?eN:tu,n)}};if(!ts(tc)){var s=ts("_dd"),c=ts("_dd_r"),l=ts("_dd_l"),f={};s&&(f.id=s),l&&/^[01]$/.test(l)&&(f.logs=l),c&&/^[012]$/.test(c)&&(f.rum=c),Y(f)||(tm(f),a.persistSession(f))}return a}(e.cookieOptions):{isLockEnabled:!1,persistSession:tC,retrieveSession:tk,expireSession:t_},l=c.expireSession,f=H(function(){tE({process:function(e){return tg(e)?tp(e):void 0},after:g},c)},1e3);m();var d=J(function(){tE({process:function(e){if(!Y(e)){var r=g(e);return function(e){if(!Y(e)){var r=n(e[t]),o=r.trackingType,i=r.isTracked;e[t]=o,delete e.isExpired,i&&!e.id&&(e.id=tr(),e.created=String(eP()))}}(r),r}},after:function(e){Y(e)||y()||(r=e,i.notify()),r=e}},c)},1e3),p=d.throttled,v=d.cancel;function g(e){var n;return tg(e)&&(e=tp(e)),y()&&((n=e,r.id!==n.id||r[t]!==n[t])?(r=tp(r),a.notify()):(s.notify({previousState:r,newState:e}),r=e)),e}function m(){tE({process:function(e){if(Y(e))return tp(e)},after:function(e){r=e}},c)}function y(){return void 0!==r[t]}return{expandOrRenewSession:p,expandSession:function(){tE({process:function(e){return y()?g(e):void 0}},c)},getSession:function(){return r},renewObservable:i,expireObservable:a,sessionStateUpdateObservable:s,restartSession:m,expire:function(){v(),l(r),g(tp(r))},stop:function(){z(f)},updateSessionState:function(e){tE({process:function(t){return D({},t,e)},after:g},c)}}}(e.sessionStoreStrategyType,t,n);tG.push(function(){return S.stop()});var w=(v=(p={expireDelay:tu}).expireDelay,g=p.maxEntries,m=[],y=H(function(){for(var e=eM()-v;m.length>0&&m[m.length-1].endTime<e;)m.pop()},6e4),{add:function(e,t){var n={value:e,startTime:t,endTime:tj,remove:function(){ej(m,n)},close:function(e){n.endTime=e}};return g&&m.length>=g&&m.pop(),m.unshift(n),n},find:function(e,t){void 0===e&&(e=tj),void 0===t&&(t={returnInactive:!1});for(var n=0,r=m;n<r.length;n++){var o=r[n];if(o.startTime<=e){if(t.returnInactive||e<=o.endTime)return o.value;break}}},closeActive:function(e){var t=m[0];t&&t.endTime===tj&&t.close(e)},findAll:function(e,t){void 0===e&&(e=tj),void 0===t&&(t=0);var n=e+t;return m.filter(function(t){return t.startTime<=n&&e<=t.endTime}).map(function(e){return e.value})},reset:function(){m=[]},stop:function(){z(y)}});function C(){return{id:S.getSession().id,trackingType:S.getSession()[t],isReplayForced:!!S.getSession().forcedReplay,anonymousId:S.getSession().anonymousId}}return tG.push(function(){return w.stop()}),S.renewObservable.subscribe(function(){w.add(C(),eM()),h.notify()}),S.expireObservable.subscribe(function(){b.notify(),w.closeActive(eM())}),S.expandOrRenewSession(),w.add(C(),{relative:0,timeStamp:eU()}.relative),r.observable.subscribe(function(){r.isGranted()?S.expandOrRenewSession():S.expire()}),i=ec(e,window,["click","touchstart","keydown","scroll"],function(){r.isGranted()&&S.expandOrRenewSession()},{capture:!0,passive:!0}).stop,tG.push(i),a=e,s=function(){return S.expandSession()},c=function(){"visible"===document.visibilityState&&s()},l=ec(a,document,["visibilitychange"],c,void 0).stop,tG.push(l),f=H(c,6e4),tG.push(function(){z(f)}),d=ec(e,window,["resume"],function(){return S.restartSession()},{capture:!0}).stop,tG.push(d),{findSession:function(e,t){return w.find(e,t)},renewObservable:h,expireObservable:b,sessionStateUpdateObservable:S.sessionStateUpdateObservable,expire:S.expire,updateSessionState:S.updateSessionState}}(t,"logs",function(e){var n,r,o,i;return n=t,{trackingType:i="0"===(o=r=e)||"1"===o?r:tF(n),isTracked:"1"===i}},i)).expireObservable},d=function(e,t,n,o,i){var a,s,c,u,l,f,d,p,v,g,m,y=(a="browser-logs-sdk",s=t,l=new eo,f=new Set,d=!I(ez,s.site)&&eq(s.telemetrySampleRate),p=((c={})[eF.log]=d,c[eF.configuration]=d&&eq(s.telemetryConfigurationSampleRate),c[eF.usage]=d&&eq(s.telemetryUsageSampleRate),c),v={is_local_file:"file:"===window.location.protocol,is_worker:"WorkerGlobalScope"in self},eK=function(e){var t=W(e);if(p[e.type]&&f.size<s.maxTelemetryEventsPerPage&&!f.has(t)){var n,r,o,i,c,d=(n=a,r=e,o=v,ee({type:"telemetry",date:eP(),service:n,version:"5.35.1",source:"browser",_dd:{format_version:2},telemetry:ee(r,{runtime_env:o,connectivity:{status:(c=window.navigator).onLine?"connected":"not_connected",interfaces:c.connection&&c.connection.type?[c.connection.type]:void 0,effective_type:null==(i=c.connection)?void 0:i.effectiveType},sdk_setup:"npm"}),experimental_features:N(eL)},void 0!==u?u():{}));l.notify(d),eB("telemetry",d),f.add(t)}},r=eV,{setContextProvider:function(e){u=e},observable:l,enabled:d});y.setContextProvider(function(){var e,t,n,r,o,a;return{application:{id:null==(e=tz())?void 0:e.application_id},session:{id:null==(t=i.findTrackedSession())?void 0:t.id},view:{id:null==(r=null==(n=tz())?void 0:n.view)?void 0:r.id},action:{id:null==(a=null==(o=tz())?void 0:o.user_action)?void 0:a.id}}});var h=[];if(e9()){var b=e8(),S=y.observable.subscribe(function(e){return b.send("internal_telemetry",e)});h.push(function(){return S.unsubscribe()})}else{var w=t9(t,{endpoint:t.rumEndpointBuilder,encoder:t7()},t.replica&&{endpoint:t.replica.rumEndpointBuilder,encoder:t7()},n,o,i.expireObservable);h.push(function(){return w.stop()});var C=y.observable.subscribe(function(e){return w.add(e,"datad0g.com"===t.site)});h.push(function(){return C.unsubscribe()})}return eJ.drain(),g={session_sample_rate:e.sessionSampleRate,telemetry_sample_rate:e.telemetrySampleRate,telemetry_configuration_sample_rate:e.telemetryConfigurationSampleRate,telemetry_usage_sample_rate:e.telemetryUsageSampleRate,use_before_send:!!e.beforeSend,use_cross_site_session_cookie:e.useCrossSiteSessionCookie,use_partitioned_cross_site_session_cookie:e.usePartitionedCrossSiteSessionCookie,use_secure_session_cookie:e.useSecureSessionCookie,use_proxy:!!e.proxy,silent_multiple_init:e.silentMultipleInit,track_session_across_subdomains:e.trackSessionAcrossSubdomains,session_persistence:e.sessionPersistence,allow_fallback_to_local_storage:!!e.allowFallbackToLocalStorage,store_contexts_across_pages:!!e.storeContextsAcrossPages,allow_untrusted_events:!!e.allowUntrustedEvents,tracking_consent:e.trackingConsent},m=D({forward_errors_to_logs:e.forwardErrorsToLogs,forward_console_logs:e.forwardConsoleLogs,forward_reports:e.forwardReports,use_pci_intake:e.usePciIntake,send_logs_after_session_expiration:e.sendLogsAfterSessionExpiration},g),eK({type:eF.configuration,configuration:m}),{telemetry:y,stop:function(){h.forEach(function(e){return e()})}}}(e,t,c,l,f).stop;s.push(function(){return d()}),function(e,t){var n;if(e.forwardErrorsToLogs)(!v&&(n=e,v=new eo(function(e){var t=e7(XMLHttpRequest.prototype,"open",tV).stop,r=e7(XMLHttpRequest.prototype,"send",function(t){!function(e,t,n){var r=e.target,o=e.handlingStack,i=tW.get(r);if(i){i.state="start",i.startClocks=eD(),i.isAborted=!1,i.xhr=r,i.handlingStack=o;var a=!1,s=e7(r,"onreadystatechange",function(){r.readyState===XMLHttpRequest.DONE&&c()}).stop,c=function(){if(u(),s(),!a){var e;a=!0,i.state="complete",e=i.startClocks.timeStamp,i.duration=eP()-e,i.status=r.status,n.notify(D({},i))}},u=ec(t,r,["loadend"],c,void 0).stop;n.notify(i)}}(t,n,e)},{computeHandlingStack:!0}).stop,o=e7(XMLHttpRequest.prototype,"abort",t$).stop;return function(){t(),r(),o()}})),v).subscribe(function(e){"complete"===e.state&&r("xhr",e)}),tn().subscribe(function(e){"resolve"===e.state&&r("fetch",e)});function r(n,r){var o,i,a,s,c,u,l,f,d,p,v,g,m;function y(e){var o={isAborted:r.isAborted,handlingStack:r.handlingStack};t.notify(0,{rawLogsEvent:{message:"".concat("xhr"===n?"XHR":"Fetch"," error ").concat(r.method," ").concat(r.url),date:r.startClocks.timeStamp,error:{stack:e||"Failed to load",handling:void 0},http:{method:r.method,status_code:r.status,url:r.url},status:eQ.error,origin:eX.NETWORK},domainContext:o})}o=r.url,!eI.every(function(e){return I(o,e)})&&(0===(i=r).status&&"opaque"!==i.responseType||r.status>=500)&&("xhr"in r?(a=r.xhr,s=e,y("string"==typeof a.response?tY(a.response,s):a.response)):r.response?(c=r.response,u=e,l=y,(f=function(e){try{return e.clone()}catch(e){return}}(c))&&f.body?window.TextDecoder?(d=f.body,p=u.requestErrorResponseLengthLimit,v=function(e,t){e?l("Unable to retrieve response: ".concat(e)):l(t)},function(e,t,n){var r=e.getReader(),o=[],i=0;function a(){if(r.cancel().catch(K),n.collectStreamBody){if(1===o.length)s=o[0];else{var e,a,s=new Uint8Array(i),c=0;o.forEach(function(e){s.set(e,c),c+=e.length})}e=s.slice(0,n.bytesLimit),a=s.length>n.bytesLimit}t(void 0,e,a)}!function e(){r.read().then(R(function(t){if(t.done)return void a();n.collectStreamBody&&o.push(t.value),(i+=t.value.length)>n.bytesLimit?a():e()}),R(function(e){return t(e)}))}()}(d,function(e,t,n){if(e)v(e);else{var r=new TextDecoder().decode(t);n&&(r+="..."),v(void 0,r)}},{bytesLimit:p,collectStreamBody:!0})):f.text().then(R(function(e){return l(tY(e,u))}),R(function(e){return l("Unable to retrieve response: ".concat(e))})):l()):r.error&&(g=r.error,m=e,y(tY(ek(ef(g)),m))))}}(t,a),function(e,t){if(e.forwardErrorsToLogs){var n,r,o,i,a,s=new eo;(i=(n=o=function(e,t){var n=eE({stackTrace:e,originalError:t,startClocks:eD(),nonErrorPrefix:"Uncaught",source:eX.SOURCE,handling:"unhandled"});s.notify(n)},e7(window,"onerror",function(e){var t,r,o,i,a,s,c=e.parameters,u=c[0],l=c[1],f=c[2],d=c[3],p=c[4];if(eT(p))s=ef(p);else{s={name:(t=u,"[object String]"===({}).toString.call(t)&&(o=(r=ew.exec(t))[1],i=r[2]),a={name:o,message:i}).name,message:a.message,stack:[{url:l,column:d,line:f}]}}n(s,null!=p?p:u)})).stop,a=(r=o,e7(window,"onunhandledrejection",function(e){var t=e.parameters[0].reason||"Empty reason";r(ef(t),t)})).stop,{stop:function(){i(),a()}}).stop,s.subscribe(function(e){t.notify(0,{rawLogsEvent:{message:e.message,date:e.startClocks.timeStamp,error:e1(e),origin:eX.SOURCE,status:eQ.error}})})}}(t,a),g=t,b=a,(S=g.forwardConsoleLogs.map(function(e){var t;return tJ[e]||(tJ[e]=(t=e,new eo(function(e){var n=y[t];return y[t]=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];n.apply(console,r);var i=eC();L(function(){e.notify(function(e,t,n){var r,o=e.map(function(e){var t;return"string"==typeof(t=e)?et(t):eT(t)?e_(ef(t)):W(et(t),void 0,2)}).join(" ");if(t===m.error){var i=function(e,t){for(var n=0;n<e.length;n+=1){var r=e[n];if(t(r,n))return r}}(e,eT);r={stack:i?ek(ef(i)):void 0,fingerprint:eO(i),causes:i?eR(i,"console"):void 0,startClocks:eD(),message:o,source:eX.CONSOLE,handling:"handled",handlingStack:n}}return{api:t,message:o,error:r,handlingStack:n}}(r,t,i))})},function(){y[t]=n}}))),tJ[e]}),ei.apply(void 0,S)).subscribe(function(e){var t={rawLogsEvent:{date:eP(),message:e.message,origin:eX.CONSOLE,error:e.error&&e1(e.error),status:tK[e.api]},domainContext:{handlingStack:e.handlingStack}};b.notify(0,t)}),(x=t.forwardReports,E=[],I(x,tN.cspViolation)&&E.push((w=t,new eo(function(e){return ec(w,document,["securitypolicyviolation"],function(t){e.notify(function(e){var t,n,r,o="'".concat(e.blockedURI,"' blocked by '").concat(e.effectiveDirective,"' directive");return tP({type:e.effectiveDirective,message:"".concat(tN.cspViolation,": ").concat(o),originalError:e,csp:{disposition:e.disposition},stack:tM(e.effectiveDirective,e.originalPolicy?"".concat(o,' of the policy "').concat((t=e.originalPolicy,r=(n=t.charCodeAt(99))>=55296&&n<=56319?101:100,t.length<=r?t:"".concat(t.slice(0,r)).concat("...")),'"'):"no policy",e.sourceFile,e.lineNumber,e.columnNumber)})}(t))},void 0).stop}))),(O=x.filter(function(e){return e!==tN.cspViolation})).length&&E.push((C=O,new eo(function(e){if(window.ReportingObserver){var t=R(function(t,n){return t.forEach(function(t){var n,r,o;return e.notify((r=(n=t).type,tP({type:(o=n.body).id,message:"".concat(r,": ").concat(o.message),originalError:n,stack:tM(o.id,o.message,o.sourceFile,o.lineNumber,o.columnNumber)})))})}),n=new window.ReportingObserver(t,{types:C,buffered:!0});return n.observe(),function(){n.disconnect()}}}))),ei.apply(void 0,E)).subscribe(function(e){var t,n,r,o=e.message,i="deprecation"===e.originalError.type?eQ.warn:eQ.error;i===eQ.error?r=e1(e):e.stack&&(o+=" Found in ".concat((t=e.stack,null==(n=/@ (.+)/.exec(t))?void 0:n[1]))),a.notify(0,{rawLogsEvent:{date:eP(),message:o,origin:eX.REPORT,error:r,status:i}})});var p={handleLog:function(e,t,n,r,o){var i,s,c,u,l=ee(t.getContext(),e.context);if(eZ(e.status,e3.console,t)&&(i=e,s=l,c=i.status,u=i.message,h[tZ[c]].call(y,u,s)),eZ(e.status,e3.http,t)){var f={rawLogsEvent:{date:o||eP(),message:e.message,status:e.status,origin:eX.LOGGER},messageContext:l,savedCommonContext:r};n&&(f.domainContext={handlingStack:n}),a.notify(0,f)}}}.handleLog;if(A=e4.concat(["custom"]),P={},A.forEach(function(e){var n,r,o;P[e]=(n=t.eventRateLimiterThreshold,r=0,o=!1,{isLimitReached:function(){if(0===r&&G(function(){r=0},6e4),(r+=1)<=n||o)return o=!1,!1;if(r===n+1){o=!0;try{c({message:"Reached max number of ".concat(e,"s by minute: ").concat(n),source:eX.AGENT,startClocks:eD()})}finally{o=!1}}return!0}})}),a.subscribe(0,function(e){var r,o,i=e.rawLogsEvent,s=e.messageContext,c=e.savedCommonContext,u=e.domainContext,l=i.date-eU(),d=f.findTrackedSession(l);if(d||t.sendLogsAfterSessionExpiration&&f.findTrackedSession(l,{returnInactive:!0})){var p=(void 0===c?void 0:c)||n(),v=ee({service:t.service,session_id:d?d.id:void 0,session:d?{id:d.id}:void 0,usr:Y(p.user)?void 0:p.user,view:p.view},p.context,tz(l),i,void 0===s?void 0:s);(null==(r=t.beforeSend)?void 0:r.call(t,v,u))===!1||v.origin!==eX.AGENT&&(null!=(o=P[v.status])?o:P.custom).isLimitReached()||a.notify(1,v)}}),e9())M=e8(),a.subscribe(1,function(e){M.send("log",e)});else{var g,b,S,w,C,k,_,x,E,O,T,A,P,M,U,B=(U=t9(t,{endpoint:t.logsEndpointBuilder,encoder:t7()},t.replica&&{endpoint:t.replica.logsEndpointBuilder,encoder:t7()},c,l,f.expireObservable),a.subscribe(1,function(e){U.add(e)}),U).stop;s.push(function(){return B()})}return{handleLog:p,getInternalContext:({get:function(e){var t=f.findTrackedSession(e);if(t)return{session_id:t.id}}}).get,stop:function(){s.forEach(function(e){return e()})}}});!function(e,t,n){var r=e[t];r&&!r.q&&r.version&&S.warn("SDK is loaded more than once. This is unsupported and might have unexpected behavior."),e[t]=n,r&&r.q&&r.q.forEach(function(e){return _(e,"onReady callback threw an error:")()})}(U(),"DD_LOGS",ne)}}]);